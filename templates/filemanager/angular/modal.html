{% load i18n static %}
<link href="/static/src/css/animations.css" rel="stylesheet">
  <link href="/static/src/css/dialogs.css" rel="stylesheet">
  <link href="/static/src/css/main.css" rel="stylesheet">
  <!--<link rel="stylesheet" href="/static/dist/angular-filemanager.min.css">-->

  <!-- third party -->
  <script src="/static/bower_components/angular/angular.min.js"></script>
  <script src="/static/bower_components/angular-translate/angular-translate.min.js"></script>
  <script src="/static/bower_components/angular-cookies/angular-cookies.min.js"></script>

  <!-- angular-filemanager -->
  <script src="/static/src/js/app.js"></script>
  <script src="/static/src/js/directives/directives.js"></script>
  <script src="/static/src/js/filters/filters.js"></script>
  <script src="/static/src/js/providers/config.js"></script>
  <script src="/static/src/js/entities/chmod.js"></script>
  <script src="/static/src/js/entities/item.js"></script>
  <script src="/static/src/js/services/filenavigator.js"></script>
  <script src="/static/src/js/services/fileuploader.js"></script>
  <script src="/static/src/js/providers/translations.js"></script>
  <script src="/static/src/js/controllers/main.js"></script>
  <script src="/static/src/js/controllers/selector-controller.js"></script>

  <!--<script src="/static/dist/angular-filemanager.min.js"></script>-->
  <script type="text/javascript">
    var lab_pk = '{{ lab.pk }}';
    angular.module('FileManagerApp').config(['fileManagerConfigProvider', function (config) {
      var defaults = config.$get();
      config.set({
        appName: '{{ lab }} storages',
        listUrl: '/' + lab_pk + '/filemanager/list/',
        createFolderUrl: '/' + lab_pk + '/filemanager/createfolder/',
        renameUrl: '/' + lab_pk + '/filemanager/rename/',
        removeUrl: '/' + lab_pk + '/filemanager/remove/',
        uploadUrl: '/' + lab_pk + '/filemanager/upload/',
        downloadFileUrl: '/' + lab_pk + '/filemanager/download/',
        modal: true,
        sidebar: false,
        breadcrumb: false,
        allowedActions: angular.extend(defaults.allowedActions, {
          rename: false,
          copy: false,
          edit: false,
          changePermissions: false,
          compress: false,
          compressChooseName: false,
          extract: false,
          download: false,
          preview: true,
          choose: true,
          remove: false
        })
      });
    }]);
  </script>


<div class="modal fade {{ modal_class }}" id="fm" tabindex="-1" role="dialog" aria-labelledby="Modal"
     aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content" style="min-width: 900px !important;">
      <button type="button" class="close" data-dismiss="modal" title="{% trans 'Close' %}">
        <span aria-hidden="true">&times;</span>
      </button>
      <div class="modal-body">
        <div data-ng-app="FileManagerApp">
          <div class="ng-cloak">
            <angular-filemanager></angular-filemanager>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>